{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nexport const cartSlice = createSlice({\n  name: \"cart\",\n  initialState: {\n    products: [{\n      id: \"p1\",\n      title: \"Product 1\",\n      price: 0,\n      qty: 0\n    }, {\n      id: \"p2\",\n      title: \"Product 2\",\n      price: 0,\n      qty: 0\n    }],\n    totalPrice: 0\n  },\n  reducers: {\n    addToCart: (state, action) => {\n      const newProduct = action.payload;\n      state.products.forEach(cartProduct => {\n        if (cartProduct.id === newProduct.id) {\n          cartProduct.qty += 1;\n          cartProduct.price += newProduct.price;\n        }\n      });\n      state.totalPrice += newProduct.price;\n    },\n    removeCart: (state, action) => {\n      const removedProduct = action.payload;\n      state.products.forEach(cartProduct => {\n        if (cartProduct.id === removedProduct.id && cartProduct.qty > 0) {\n          cartProduct.qty -= 1;\n          cartProduct.price -= removedProduct.price;\n          state.totalPrice -= removedProduct.price;\n        }\n      });\n    }\n  }\n});\nconst {\n  actions,\n  reducers\n} = cartSlice;\nexport const {\n  addToCart,\n  removeCart\n} = actions;\n// export default reducers","map":{"version":3,"names":["createSlice","cartSlice","name","initialState","products","id","title","price","qty","totalPrice","reducers","addToCart","state","action","newProduct","payload","forEach","cartProduct","removeCart","removedProduct","actions"],"sources":["/Users/macbookpro/Documents/Cder/reactJS/M2.3/redux-intro/src/service/cart/slice.js"],"sourcesContent":["import {\n    createSlice\n} from '@reduxjs/toolkit'\n\nexport const cartSlice = createSlice({\n    name: \"cart\",\n    initialState: {\n        products: [\n            { id: \"p1\", title: \"Product 1\", price: 0, qty: 0 },\n            { id: \"p2\", title: \"Product 2\", price: 0, qty: 0 },\n        ],\n        totalPrice: 0,\n    },\n    reducers: {\n        addToCart: (state, action) => {\n            const newProduct = action.payload;\n            state.products.forEach((cartProduct) => {\n                if (cartProduct.id === newProduct.id) {\n                    cartProduct.qty += 1;\n                    cartProduct.price += newProduct.price;\n                }\n            });\n            state.totalPrice += newProduct.price;\n        },\n        removeCart: (state, action) => {\n            const removedProduct = action.payload;\n            state.products.forEach((cartProduct) => {\n                if (cartProduct.id === removedProduct.id && cartProduct.qty > 0) {\n                    cartProduct.qty -= 1;\n                    cartProduct.price -= removedProduct.price;\n                    state.totalPrice -= removedProduct.price;\n                }\n            })\n\n        }\n    }\n})\nconst { actions, reducers } = cartSlice\nexport const { addToCart, removeCart } = actions\n// export default reducers"],"mappings":"AAAA,SACIA,WAAW,QACR,kBAAkB;AAEzB,OAAO,MAAMC,SAAS,GAAGD,WAAW,CAAC;EACjCE,IAAI,EAAE,MAAM;EACZC,YAAY,EAAE;IACVC,QAAQ,EAAE,CACN;MAAEC,EAAE,EAAE,IAAI;MAAEC,KAAK,EAAE,WAAW;MAAEC,KAAK,EAAE,CAAC;MAAEC,GAAG,EAAE;IAAE,CAAC,EAClD;MAAEH,EAAE,EAAE,IAAI;MAAEC,KAAK,EAAE,WAAW;MAAEC,KAAK,EAAE,CAAC;MAAEC,GAAG,EAAE;IAAE,CAAC,CACrD;IACDC,UAAU,EAAE;EAChB,CAAC;EACDC,QAAQ,EAAE;IACNC,SAAS,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC1B,MAAMC,UAAU,GAAGD,MAAM,CAACE,OAAO;MACjCH,KAAK,CAACR,QAAQ,CAACY,OAAO,CAAEC,WAAW,IAAK;QACpC,IAAIA,WAAW,CAACZ,EAAE,KAAKS,UAAU,CAACT,EAAE,EAAE;UAClCY,WAAW,CAACT,GAAG,IAAI,CAAC;UACpBS,WAAW,CAACV,KAAK,IAAIO,UAAU,CAACP,KAAK;QACzC;MACJ,CAAC,CAAC;MACFK,KAAK,CAACH,UAAU,IAAIK,UAAU,CAACP,KAAK;IACxC,CAAC;IACDW,UAAU,EAAEA,CAACN,KAAK,EAAEC,MAAM,KAAK;MAC3B,MAAMM,cAAc,GAAGN,MAAM,CAACE,OAAO;MACrCH,KAAK,CAACR,QAAQ,CAACY,OAAO,CAAEC,WAAW,IAAK;QACpC,IAAIA,WAAW,CAACZ,EAAE,KAAKc,cAAc,CAACd,EAAE,IAAIY,WAAW,CAACT,GAAG,GAAG,CAAC,EAAE;UAC7DS,WAAW,CAACT,GAAG,IAAI,CAAC;UACpBS,WAAW,CAACV,KAAK,IAAIY,cAAc,CAACZ,KAAK;UACzCK,KAAK,CAACH,UAAU,IAAIU,cAAc,CAACZ,KAAK;QAC5C;MACJ,CAAC,CAAC;IAEN;EACJ;AACJ,CAAC,CAAC;AACF,MAAM;EAAEa,OAAO;EAAEV;AAAS,CAAC,GAAGT,SAAS;AACvC,OAAO,MAAM;EAAEU,SAAS;EAAEO;AAAW,CAAC,GAAGE,OAAO;AAChD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}